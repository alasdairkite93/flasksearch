<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="refresh"/>
    <title>Property Scanner</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='foundation.css') }}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/css/foundation.min.css"
          crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.5/dist/js/foundation.min.js"
            crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"
            integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.0.1/js/vendor/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.5.1/dist/js/foundation.min.js"
            crossorigin="anonymous">
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <style>

        h1, h2, button {
            font-family: 'Montserrat', sans-serif;
        }

        @media only screen and (max-width: 600px) {

            #optionbutton {
                width: 300px;
            }

            .wrapper {
                display: inline-grid;
                grid-template-columns: repeat(1, 1fr);
            }

            .box1 {
                grid-column-start: 1;
                grid-column-end: 4;
                grid-row-start: 1;
                grid-row-end: 2;
            }

            .box2 {
                grid-column-start: 2;
                grid-column-end: 3;
                grid-row-start: 2;
                grid-row-end: 3;
                border-radius: 4px;
                min-width: 50%;
            }

            .box3b {
                grid-column-start: 1;
                grid-column-end: 4;
                grid-row-start: 3;
                grid-row-end: 4;
            }

            .searchbox {
                width: 100%;
                background-color: #1A2090;
                display: inline-block;
                border-radius: 4px;
                text-align: center;
                min-width: auto;
            }

            .landingpage {
                grid-column-start: 1;
                grid-column-end: 4;
                grid-row-start: 5;
                grid-row-end: 6;
            }

            #grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(100%, 1fr));
                grid-gap: 5px;
            }

            #grid > div {
                padding: .5em;
            }
        }

        @media only screen and (min-width: 601px) and (max-width: 1000px) {

            .wrapper {
                display: inline-grid;
                grid-template-columns: repeat(2, 1fr);
                grid-auto-rows: 100px;
                padding-bottom: 100px;
            }

            .box1 {
                grid-column-start: 1;
                grid-column-end: 4;
                grid-row-start: 1;
                grid-row-end: 3;
            }

            .box2 {
                grid-column-start: 1;
                grid-column-end: 3;
                grid-row-start: 3;
                grid-row-end: 5;
                border-radius: 4px;
                min-width: 500px;
            }

            .box3b {
                grid-column-start: 1;
                grid-column-end: 4;
                grid-row-start: 7;
                grid-row-end: 19;
            }

            .searchbox {
                width: 100%;
                background-color: #1A2090;
                display: inline-block;
                border-radius: 4px;
                text-align: center;
                padding: 0px 8px 24px 8px;

            }

            .landingpage {
                grid-column-start: 1;
                grid-column-end: 4;
                grid-row-start: 17;
                grid-row-end: 19;
            }

            #grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(50%, 1fr));
                grid-gap: 5px;
            }

            #grid > div {
                padding: .5em;
                text-align: center;
            }

        }


        @media only screen and (min-width: 1000px) {

            .wrapper {
                display: inline-grid;
                grid-template-columns: repeat(3, 1fr);
                grid-auto-rows: 100px;
                padding-bottom: 100px;
            }

            .box1 {
                grid-column-start: 1;
                grid-column-end: 4;
                grid-row-start: 1;
                grid-row-end: 3;
            }

            .box2 {
                grid-column-start: 2;
                grid-column-end: 3;
                grid-row-start: 3;
                grid-row-end: 5;
                border-radius: 4px;
                min-width: 500px;
            }

            .box3b {
                grid-column-start: 1;
                grid-column-end: 4;
                grid-row-start: 7;
                grid-row-end: 10;
            }

            .searchbox {
                width: 100%;
                background-color: #1A2090;
                display: inline-block;
                border-radius: 4px;
                text-align: center;
                padding: 24px 8px 24px 8px;
                min-width: auto;

            }

            .landingpage {
                grid-column-start: 1;
                grid-column-end: 4;
                grid-row-start: 12;
                grid-row-end: 15;
            }

            #grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(33%, 1fr));
                grid-gap: 5px;
            }

            #grid > div {
                padding: .5em;
                text-align: center;
            }
        }

        .h1style {
            color: white;
        }

        .h2style {
            color: white;
            font-size: 20px;
        }

        .searchbar {
            border: none;
            font-size: 16px;
            outline: none;
            border-radius: 6px;
        }

        .button {
            border-radius: 6px;
            min-width: 100px;
            font-family: 'Montserrat', sans-serif;
            background-color: #FF0C1E;
        }

        .box1 img {
            object-fit: fill;
        }

        .box2 img {
            object-fit: fill;
        }

        .box3 img {
            object-fit: fill;
        }


        /**Grid test**/


        .column {
            float: right;
            width: 25%;
            padding: 10px;
        }

        .column img {
            margin-top: 12px;
        }

        /* Clear floats after the columns */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }
    </style>
    <script>
        if (window.history.replaceState) {
            window.history.replaceState(null, null, window.location.href);
        }


    </script>
</head>
<body>
<div style="height: 100px;">
    <a class="navbar-brand"><img src="/static/images/mainlogo.png" alt="mainlogo" width="150" height="150"
                                 style="justify-items: left;"></a>
</div>
<div class="flexcontainer">
    <div class="wrapper">
        <div class="box1">
            <img src="/static/images/background.jpeg">
        </div>
        <div class="box2">
            <div class="searchbox">
                <h1 class="h1style"><b>Property Scanner</b></h1>
                <h2 class="h2style">Search properties for sale and rent.</h2>
                <form action="{{ url_for("search") }}"
                      style="padding-left: 20px; padding-top: 20px; padding-right: 20px;" method="post" name="search">
                    <div class="bar">
                        <input class="searchbar" type="text" id="postcode" name="pcode" title="Search"
                               list="postcodeinputs" placeholder="Enter an address..." required>

                        <script>


                            const idel = document.getElementById("postcode");
                            idel.addEventListener("input", autocompleteAName);


                            async function autocompleteAName(e) {

                                let pcode = e.target.value;
                                const url = 'https://api.geoapify.com/v1/geocode/autocomplete?text=';
                                const url_end = '&format=json&apiKey=f6158bd8aa4846fb9a97b27077d9a132';
                                const api_url = url + pcode + url_end;

                                const myjson = await fetch(api_url);
                                var data = await myjson.json();

                                console.log(data);
                                show(data);
                            }


                            function show(data) {
                                console.log("data.results[0]: " + data.results);
                                var datalist = document.getElementById("postcodeinputs");

                                for (var i = 0; i < data.results.length; i++) {
                                    var n_option = document.createElement('option');

                                    console.log("data[i]: " + data.results[i].address_line2);
                                    var option_txt = document.createTextNode(data.results[i].address_line2);
                                    n_option.setAttribute("value", data.results[i].postcode);
                                    n_option.appendChild(option_txt);
                                    datalist.append(n_option);

                                }
                            }
                        </script>
                    </div>
                    <div class="buttons">
                        <button class="button" type="submit" id="optionbutton" name="sales" value="sales"><b>Sales</b>
                        </button>
                        <button class="button" type="submit" id="optionbutton" name="lettings" value="lettings"><b>Lettings</b>
                        </button>
                    </div>
                </form>
            </div>
        </div>
        <div class="box3b">
            <div id="grid">
                <div><a href="https://energyperformancecertificates.co.uk/"><img src="/static/images/epc.png"
                                                                                 id="gridimage" alt="a balloon"></a>
                </div>
                <div><a href="https://www.gassaferegister.co.uk/find-an-engineer-or-check-the-register/"><img
                        src="/static/images/gassaf.png" id="gridimage" alt="a balloon"></a></div>
                <div><a href="https://www.uswitch.com/"><img src="/static/images/utility.png" id="gridimage"></a></div>
            </div>
        </div>
        <div class="landingpage"
             style="background-color: #E9E9EB; border: #cacaca; border-style: solid; color: black; padding-top: 50px;">
            <div style=" display: flex; justify-content: left;">
                <div class="row" style="margin-left: 5%;">
                    <ul style="list-style: none">
                        <li>Suite 2021</li>
                        <li>Letraset Building</li>
                        <li>Wotton Road</li>
                        <li>Ashford Kent</li>
                        <li>TN23 6LN</li>
                        <br>
                        <li>0333 332 1895</li>
                    </ul>
                </div>
                <div class="row" style="padding-left: 10%; justify-content: right">
                    <div class="column">
                        <img src="/static/images/gumtree.jpeg" width="150" height="auto" src=alt=""/>
                    </div>
                    <div class="column">
                        <img src="/static/images/crystalroof.png" width="150" height="auto"/>
                    </div>
                    <div class="column">
                        <img src="/static/images/OTM.png" width="150" height="auto"/>
                    </div>
                    <div class="column">
                        <img src="/static/images/registry.png" width="150" height="auto" alt=""/>
                    </div>
                    <div class="column">
                        <img src="/static/images/rmove.png" width="150" height="auto"/>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
<p style="margin-left: 10%; font-size: 12px;">Site designed and created by @AlasdairKite
    alasdairkite@onlinewebservices.uk</p>
</body>
</html>